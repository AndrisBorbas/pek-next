<% stylesheet 'groups' %>

<div id="content-main" class="group-container">
  <div class="uk-height-viewport uk-responsive-width">
    <div class="uk-container-center">
      <h1 class="uk-h1"><%= @viewmodel.group.name %></h1>
      <div class="uk-panel uk-panel-box">
        <div class="uk-grid">
          <div class="uk-width-medium-3-4">
            <h2 class="uk-h2">Kör adatai</h2>
            <table>
              <tbody>
                <tr>
                  <th class="uk-text-left">Név</th>
                  <td><%= @viewmodel.group.name %></td>
                </tr>
                <tr>
                  <th class="uk-text-left">Alapítási éve</th>
                  <td><%= @viewmodel.group.founded %></td>
                </tr>
                <tr>
                  <th class="uk-text-left">Svie tag</th>
                  <td><%= @viewmodel.group.issvie ? "Igen" : "Nem" %></td>
                </tr>
                <tr>
                  <th class="uk-text-left">Weboldal</th>
                  <td><%= link_to @viewmodel.group.webpage, @viewmodel.group.webpage if @viewmodel.group.webpage %></td>
                </tr>
                <tr>
                  <th class="uk-text-left">Levelezőlista</th>
                  <td><%= @viewmodel.group.maillist %></td>
                </tr>
                <tr>
                  <th class="uk-text-left">Körvezető</th>
                  <td><%= link_to @viewmodel.group.leader.user.full_name, profile_path(@viewmodel.group.leader.user.screen_name) if @viewmodel.group.leader %></td>
                </tr>
                <tr>
                  <th class="uk-text-left">Bemutatkozás</th>
                  <td><%= @viewmodel.group.description %></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="uk-width-medium-1-4 uk-text-right">
            <% if @viewmodel.leader? %>
              <ul class="uk-list">
                <li class="uk-margin-small">
                  <%= link_to 'Adatok szerkesztése', edit_group_path(@viewmodel.group),
                    class: 'uk-button uk-button-primary uk-width-3-4' %>
                </li>
                <% if @viewmodel.group.issvie %>
                <li class="uk-margin-small">
                  <%= link_to 'Küldöttek', group_delegates_path(@viewmodel.group),
                    class: 'uk-button uk-button-primary uk-width-3-4' %>
                </li>
                <% if SystemAttribute.application_season? %>
                  <li class="uk-margin-small">
                    <%= link_to 'Értékelés leadás', new_group_evaluation_path(@viewmodel.group),
                      class: 'uk-button uk-button-primary uk-width-3-4' %>
                  </li>
                <% end %>
                <% end %>
              </ul>
            <% end %>
            <% if @viewmodel.group.users_can_apply && !@own_membership %>
              <%= form_tag group_memberships_path(@viewmodel.group), {method: 'post'} do %>
              <%= button_tag "Jelentkezés körbe", {class: "uk-button uk-button-primary uk-margin-small"} %>
              <% end %>
            <% end %>
          </div>
        </div>

        <div class="uk-grid uk-margin-top">
          <div class="uk-width-2-3">
            <h2 class="uk-h2">Aktív tagok</h2>
          </div>
          <div class="uk-width-1-3 uk-hidden-small">
            <a class="grid uk-icon-th uk-align-right"></a>
            <a class="list uk-icon-bars uk-align-right"></a>
          </div>
        </div>

        <div class="uk-width-1-1 uk-grid uk-grid-medium uk-margin-large-bottom" data-uk-grid="{gutter: 20}" id="active_users">
          <%= render "active_users" %>
        </div>
        <div id="active_users_paginate">
          <%= paginate @active_users, :param_name => 'active_users_page', :remote => true %>
        </div>

        <div class="uk-grid uk-margin-top">
          <div class="uk-width-2-3">
            <h2 class="uk-h2">Öreg tagok</h2>
          </div>
          <div class="uk-width-1-3 uk-hidden-small">
            <a class="grid uk-icon-th uk-align-right"></a>
            <a class="list uk-icon-bars uk-align-right"></a>
          </div>
        </div>
        <div class="uk-width-1-1 uk-grid uk-grid-medium uk-margin-large-bottom" data-uk-grid="{gutter: 20}" id="inactive_users">
          <%= render "inactive_users" %>
        </div>
        <div id="inactive_users_paginate">
          <%= paginate @inactive_users, :param_name => 'inactive_users_page', :remote => true %>
        </div>

        <% if @viewmodel.group.archived_members_visible %>
          <div class="uk-grid uk-margin-top">
            <div class="uk-width-2-3">
              <h2 class="uk-h2">Archivált tagok</h2>
            </div>
            <div class="uk-width-1-3 uk-hidden-small">
              <a class="grid uk-icon-th uk-align-right"></a>
              <a class="list uk-icon-bars uk-align-right"></a>
            </div>
          </div>
          <div class="uk-width-1-1 uk-grid uk-grid-medium uk-margin-bottom" data-uk-grid="{gutter: 20}" id="archived_users">
            <%= render "archived_users" %>
          </div>
          <div id="archived_users_paginate">
            <%= paginate @archived_users, :param_name => 'archived_users_page', :remote => true %>
          </div>
        <% end %>

      </div>
    </div>
  </div>
</div>
